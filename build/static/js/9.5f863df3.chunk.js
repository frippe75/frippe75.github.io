(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{614:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},615:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(614);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(614);var a=n(615);function s(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},684:function(e,t,n){e.exports=n(378)},704:function(e,t,n){"use strict";n.r(t);var r=n(684),a=n.n(r);function s(e,t,n,r,a,s,o){try{var c=e[s](o),i=c.value}catch(l){return void n(l)}c.done?t(i):Promise.resolve(i).then(r,a)}var o=n(159),c=n(160),i=n(163),l=n(162),u=n(633),m=n(1),f=n.n(m),d=n(613),g=n(616),p=void 0,h=function(e){switch(e){case"connected":return"success";case"unavailable":return"danger";case"Pending":return"warning";case"Banned":return"danger";default:return"primary"}},w=function(e){return console.log(e),e<20?"cilWifiSignal0":e<40?"cilWifiSignal1":e<60?"cilWifiSignal2":e<80?"cilWifiSignal3":"cilWifiSignal0"},b=function(e){return new Promise((function(t){return setTimeout(t,e)}))},v=["ssid","encryption","rssi","quality","status"],y=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={settings:[],modal:!1,currentSelected:0,currentNetwork:"",progress:0},e.toggleModal=function(){e.setState((function(e){return{modal:!e.modal}}))},e.toggle=function(t){e.setState((function(e){return{modal:!e.modal,currentSelected:t,currentNetwork:e.settings.networks[t].ssid}}))},e}return Object(c.a)(n,[{key:"onClickScan",value:function(){var e,t=(e=a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,fetch("http://slowwly.robertomurray.co.uk/delay/7000/url/http://google.co.uk",{method:"GET",mode:"no-cors"}).then((function(e){return e.text()})).then((function(e){console.log(e),n.setState((function(e){return{progress:95}}))})).catch(console.log);case 3:if(!(t<20)){e.next=15;break}return e.next=6,b(500);case 6:if(100==this.state.progress){e.next=11;break}console.log("Progress: "+this.state.progress),this.setState((function(e){return{progress:n.state.progress+5}})),e.next=12;break;case 11:return e.abrupt("break",15);case 12:t++,e.next=3;break;case 15:return e.next=17,b(1e3);case 17:this.setState((function(e){return{progress:0}}));case 18:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){s(o,r,a,c,i,"next",e)}function i(e){s(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;fetch("http://192.168.0.209:4001/rest/v1/settings",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({settings:t.settings})})).catch(console.log)}},{key:"render",value:function(){var e=this;return f.a.createElement(f.a.Fragment,null,f.a.createElement(d.wb,null,f.a.createElement(d.u,{xs:"12",lg:"6"},f.a.createElement(d.j,null,f.a.createElement(d.n,null,f.a.createElement(d.ub,{value:this.state.progress,className:"mb-3",style:{height:"3px"}}),"Wifi Networks \xa0\xa0",f.a.createElement(d.f,{color:"primary",variant:"outline",size:"sm",onClick:function(){e.onClickScan()}},"Rescan")),f.a.createElement(d.k,null,f.a.createElement(d.y,{items:this.state.settings.networks,fields:v,size:"sm",itemsPerPage:5,pagination:!0,scopedSlots:{status:function(t,n){return f.a.createElement("td",null,f.a.createElement(d.b,{color:h(t.status)},t.status),"\xa0\xa0",f.a.createElement(d.f,{color:"light",size:"sm",onClick:function(){!function(e,t){switch(t){case"connected":alert("DISCONNECT");case"configured":console.log("MODAL");case"unavailable":return"warning";case"not used":return"add";default:;}}(0,t.status),e.toggle(n)}},function(e){switch(e){case"connected":return"disconnect";case"configured":return"connect";case"unavailable":return"warning";case"not used":return"add";default:return"primary"}}(t.status)))},quality:function(e){return f.a.createElement("td",null,f.a.createElement(g.a,{size:"sm",name:w(parseInt(e.quality))}))},show_details:function(t,n){return f.a.createElement("td",{className:"py-2"},f.a.createElement("div",null,f.a.createElement(d.f,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){!function(e){var t=p.state.settings.networks.indexOf(e),n=p.state.settings.networks.slice();-1!==t?n.splice(t,1):n=[].concat(Object(u.a)(p.state.settings.networks),[e])}(n)}},e.state.settings.networks.includes(n)?"Hide":"Show")))},details:function(t,n){return f.a.createElement(d.v,{show:e.state.settings.networks.includes(n)},f.a.createElement(d.k,null,f.a.createElement("h4",null,t.username),f.a.createElement("p",{className:"text-muted"},"User since: ",t.registered),f.a.createElement(d.f,{size:"sm",color:"info"},"User Settings"),f.a.createElement(d.f,{size:"sm",color:"danger",className:"ml-1"},"Delete")))}}}),f.a.createElement(d.gb,{show:this.state.modal,onClose:function(){e.toggleModal()}},f.a.createElement(d.jb,{closeButton:!0},f.a.createElement(d.kb,null,"Add Network - ",this.state.currentNetwork," ")),f.a.createElement(d.hb,null,f.a.createElement(d.K,{row:!0},f.a.createElement(d.u,{md:"3"},f.a.createElement(d.cb,{htmlFor:"password-input"},"Network Password")),f.a.createElement(d.u,{xs:"12",md:"9"},f.a.createElement(d.S,{type:"password",id:"password-input",name:"password-input",placeholder:"Password",autoComplete:"new-password"}),f.a.createElement(d.L,{className:"help-block"},"Please try to enter the correct password")))),f.a.createElement(d.ib,null,f.a.createElement(d.f,{color:"primary"},"Save")," ",f.a.createElement(d.f,{color:"secondary",onClick:function(){e.toggleModal()}},"Cancel"))))))))}}]),n}(m.Component);t.default=y}}]);
//# sourceMappingURL=9.5f863df3.chunk.js.map